<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model 2 - Biomass Resource Utilization</title>
    <!-- <link rel="stylesheet" href="/frontend/static/styles.css"> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>üå± BiomassOpt</h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="{{ url_for('home') }}" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('model1_page') }}" class="nav-link">Model1</a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('model2_page') }}" class="nav-link active">Model2</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <main>
        <section class="page-hero">
            <div class="container">
                <h1 class="page-title">Model 2: Turning Waste to Wealth</h1>
                <p class="page-subtitle">Intelligent models for maximizing biomass energy output while minimizing waste and environmental impact</p>
            </div>
        </section>

        <section class="model-content">
            <div class="container">
                <div class="content-grid">
                    <div class="content-card">
                        <h3>‚ö° Energy Conversion</h3>
                        <p>ML algorithms optimize biomass-to-energy conversion processes, maximizing energy output while maintaining efficiency standards.</p>
                    </div>
                    <div class="content-card">
                        <h3>‚ôªÔ∏è Waste Minimization</h3>
                        <p>Advanced models identify opportunities to reduce waste and improve resource utilization throughout the biomass lifecycle.</p>
                    </div>
                    <div class="content-card">
                        <h3>üå± Quality Assessment</h3>
                        <p>Intelligent quality control systems assess biomass characteristics to determine optimal utilization strategies.</p>
                    </div>
                    <div class="content-card">
                        <h3>üî¨ Process Innovation</h3>
                        <p>Continuous learning algorithms suggest process improvements and innovative utilization methods for different biomass types.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="model-placeholder">
            <div class="container">
                <h2>Enter Model 2 Parameters</h2>
                <p>Please provide the required inputs for the resource utilization model.</p>
                <div class="placeholder-box">
                    <form class="model-form" id="model2-form" action="#" method="post" novalidate>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="state">State</label>
                                <input type="text" id="state" name="State" placeholder="e.g., Maharashtra" required>
                            </div>
                            <div class="form-group">
                                <label for="feedstock">Feedstock</label>
                                <input type="text" id="feedstock" name="Feedstock" placeholder="e.g., Rice Husk" required>
                            </div>
                            <div class="form-group">
                                <label for="season">Season</label>
                                <input type="text" id="season" name="Season" placeholder="e.g., Kharif" required>
                            </div>
                            <div class="form-group">
                                <label for="availableBiomass">Available Biomass (tonnes)</label>
                                <input type="number" id="availableBiomass" name="Available Biomass (tonnes)" placeholder="e.g., 1500" step="0.01" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="moisture">Moisture (%)</label>
                                <input type="number" id="moisture" name="Moisture (%)" placeholder="e.g., 10" step="0.01" min="0" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="volatiles">Volatiles (%)</label>
                                <input type="number" id="volatiles" name="Volatiles (%)" placeholder="e.g., 70" step="0.01" min="0" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="fixedCarbon">Fixed carbon (%)</label>
                                <input type="number" id="fixedCarbon" name="Fixed C (%)" placeholder="e.g., 15" step="0.01" min="0" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="ash">Ash (%)</label>
                                <input type="number" id="ash" name="Ash (%)" placeholder="e.g., 5" step="0.01" min="0" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="c">C (%)</label>
                                <input type="number" id="c" name="C (%)" placeholder="e.g., 45" step="0.01" min="0" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="h">H (%)</label>
                                <input type="number" id="h" name="H (%)" placeholder="e.g., 6" step="0.01" min="0" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="n">N (%)</label>
                                <input type="number" id="n" name="N (%)" placeholder="e.g., 1.2" step="0.01" min="0" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="o">O (%)</label>
                                <input type="number" id="o" name="O (%)" placeholder="e.g., 42" step="0.01" min="0" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="s">S (%)</label>
                                <input type="number" id="s" name="S (%)" placeholder="e.g., 0.3" step="0.01" min="0" max="100" required>
                            </div>
                            <!-- <div class="form-group">
                                <label for="hhv">HHV (MJ/kg)</label>
                                <input type="number" id="hhv" name="hhv" placeholder="e.g., 18.5" step="0.01" min="0" required>
                            </div> -->
                            <div class="form-group">
                                <label for="bulkDensity">Bulk Density (kg/m^3)</label>
                                <input type="number" id="bulkDensity" name="Bulk Density (kg/m3)" placeholder="e.g., 180" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Run Model</button>
                            <button type="reset" class="btn btn-secondary">Clear</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Biomass Supply Chain Optimization. All rights reserved.</p>
        </div>
    </footer>

    <!-- <script src="script.js"></script> -->
    <script src="{{ url_for('static', filename='script.js') }}"></script> 

    <script>
        document.addEventListener("DOMContentLoaded", function() {
        const form = document.getElementById("model2-form");

        form.addEventListener("submit", async function(e) {
            e.preventDefault(); // Prevent default form submission

            // Collect form data
            const formData = new FormData(form);
            const data = {};
            formData.forEach((value, key) => {
                // Convert numbers where applicable
                if (!isNaN(value) && value !== "") {
                    data[key] = parseFloat(value);
                } else {
                    data[key] = value;
                }
            });

            try {
                // Send POST request to Flask
                const response = await fetch("/predict_model2", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(data)
                });

                const result = await response.json();

                if (result.error) {
                    alert("Error: " + result.error);
                } else {
                    // Display predictions
                    alert(
                        `Predicted Product: ${result.predicted_product}\n` +
                        `Predicted HHV: ${result.predicted_hhv.toFixed(2)} MJ/kg`
                    );
                }
            } catch (err) {
                console.error(err);
                alert("An unexpected error occurred. Check console for details.");
            }
        });
        });

    </script>
</body>
</html>

